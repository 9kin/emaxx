<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><html><head><title>MAXimal :: algo :: ƒинамика по профилю. «адача "паркет"</title><meta http-equiv="Content-Type" content="text/html; charset=windows-1251"><meta name="author" lang="ru" content="e-maxx" /><meta name="description" content="јлгоритмы, олимпиадное программирование, математика" /><meta name="keywords" content="алгоритмы программирование" /><meta name="google-site-verification" content="Pnjjj2XuxB0CTiqgDDvkp79bfSeDQ8Vw57iNeDJZkSc" /><link rel="stylesheet" type="text/css" href="../data/style.css"><script type="text/javascript" src="../data/jquery.js"></script><script type="text/javascript" src="../data/page-contents.js"></script><link rel="stylesheet" type="text/css" href="../geshi/geshi.css"><!--[if IE]><style>.menu a, .menu a:hover { width: 100%; }</style><![endif]--></head><body><table class=main cellpadding=0 cellspacing=0><tr><td class=title colspan=2><p>MAXimal</p></td></tr><tr><td class=menu><ul><li><a href="../index.php.html" >home</a></li><li><a href="index.html" class=current>algo</a></li><li><a href="../bookz/index.html" >bookz</a></li><li><a href="../forum/index.html" >forum</a></li><li><a href="../about.php.html" >about</a></li></ul></td><td class=content><p class=algoinfo>добавлено: 11 Jun 2008 11:08<br>редактировано: 11 Jun 2008 11:08</p><div id="contents-table"><p id="contents-table-title">—одержание <a href="profile_dynamics.html#" id="contents-hide">[скрыть]</a><a href="profile_dynamics.html#" id="contents-show" style="display:none">[показать]</a></p><div style="display:none"></div></div><h1>ƒинамика по профилю. «адача "паркет"</h1>

<p>“ипичными задачами на динамику по профилю, €вл€ютс€:</p>
<ul>
<li>найти количество способов замощени€ пол€ некоторыми фигурами</li>
<li>найти замощение с наименьшим количеством фигур</li>
<li>найти замощение с минимальным количеством неиспользованных клеток</li>
<li>найти замощение с минимальным количеством фигур такое, что в него нельз€ добавить ещЄ одну фигуру</li>
</ul>
<h2>«адача "ѕаркет"</h2>
<p>»меетс€ пр€моугольна€ площадь размером NxM. Ќужно найти количество способов замостить эту площадь фигурами 1x2 (пустых клеток не должно оставатьс€, фигуры не должны накладыватьс€ друг на друга).</p>
<p>ѕостроим такую динамику: D[I][Mask], где I=1..N, Mask=0..2^M-1. I обозначает количество строк в текущем поле, а Mask - профиль последней строки в текущем поле. ≈сли j-й бит в Mask равен нулю, то в этом месте профиль проходит на "нормальном уровне", а если 1 - то здесь "выемка" глубиной 1. ќтветом, очевидно, будет D[N][0].</p>
<p>—троить такую динамику будем, просто перебира€ все I=1..N, все маски Mask=0..2^M-1, и дл€ каждой маски будем делать переходы вперЄд, т.е. добавл€ть к ней новую фигуру всеми возможными способами.</p>
<p><b>–еализаци€:</b></p>
<pre>int n, m;
vector &lt; vector&lt;long long> > d;


void calc (int x = 0, int y = 0, int mask = 0, int next_mask = 0)
{
	if (x == n)
		return;
	if (y >= m)
		d[x+1][next_mask] += d[x][mask];
	else
	{
		int my_mask = 1 &lt;&lt; y;
		if (mask & my_mask)
			calc (x, y+1, mask, next_mask);
		else
		{
			calc (x, y+1, mask, next_mask | my_mask);
			if (y+1 &lt; m && ! (mask & my_mask) && ! (mask & (my_mask &lt;&lt; 1)))
				calc (x, y+2, mask, next_mask);
		}
	}
}


int main()
{
	cin >> n >> m;
	
	d.resize (n+1, vector&lt;long long> (1&lt;&lt;m));
	d[0][0] = 1;
	for (int x=0; x&lt;n; ++x)
		for (int mask=0; mask&lt;(1&lt;&lt;m); ++mask)
			calc (x, 0, mask, 0);

	cout &lt;&lt; d[n][0];

}</pre><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><hr><p>
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'e-maxx';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script></td></tr></table></body></html>